<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced CSS Language Quiz</title>
    <link rel="stylesheet" href="quesstyles.css">
</head>
<body>
    <header>
        <h1>ProgQuiz - CSS Language Advanced Level</h1>
    </header>
    <div class="container">
        <h1>Advanced CSS Language Quiz</h1>
        <p>Test your advanced knowledge of CSS.</p>
        <form id="quizForm">
            <!-- Multiple Choice Questions -->
            <div class="quiz-question" data-question="1">
                <h3>1. What does the 'clip-path' property do in CSS?</h3>
                <input type="radio" name="q1" value="A" class="correct"> A. Defines a clipping region for an element<br>
                <input type="radio" name="q1" value="B"> B. Sets the border radius of an element<br>
                <input type="radio" name="q1" value="C"> C. Adjusts the visibility of an element<br>
                <input type="radio" name="q1" value="D"> D. Sets the background image of an element<br>
                <div class="description incorrect" id="desc-q1-wrong">Incorrect. The correct answer is A. The 'clip-path' property defines a clipping region for an element.</div>
                <div class="description correct" id="desc-q1-correct">Correct! The 'clip-path' property defines a clipping region for an element.</div>
                <div class="navigation-buttons">
                    <button type="button" class="show-description" onclick="showDescription(1, false)">Show Description</button>
                    <button type="button" class="next-question" onclick="nextQuestion()">Next</button>
                </div>
            </div>
            
            <div class="quiz-question" data-question="2">
                <h3>2. How do you use CSS variables (custom properties)?</h3>
                <input type="radio" name="q2" value="A" class="correct"> A. Define with --variable-name and use with var(--variable-name)<br>
                <input type="radio" name="q2" value="B"> B. Define with @var variable-name and use with @var(variable-name)<br>
                <input type="radio" name="q2" value="C"> C. Define with !variable-name and use with !variable-name<br>
                <input type="radio" name="q2" value="D"> D. Define with $variable-name and use with $variable-name<br>
                <div class="description incorrect" id="desc-q2-wrong">Incorrect. The correct answer is A. CSS variables are defined with --variable-name and used with var(--variable-name).</div>
                <div class="description correct" id="desc-q2-correct">Correct! CSS variables are defined with --variable-name and used with var(--variable-name).</div>
                <div class="navigation-buttons">
                    <button type="button" class="show-description" onclick="showDescription(2, false)">Show Description</button>
                    <button type="button" class="next-question" onclick="nextQuestion()">Next</button>
                </div>
            </div>
            
            <div class="quiz-question" data-question="3">
                <h3>3. What is the purpose of the 'grid-area' property in CSS Grid?</h3>
                <input type="radio" name="q3" value="A" class="correct"> A. Specifies a grid item's position and size within the grid<br>
                <input type="radio" name="q3" value="B"> B. Sets the width of the grid container<br>
                <input type="radio" name="q3" value="C"> C. Defines the space between grid items<br>
                <input type="radio" name="q3" value="D"> D. Sets the background color of grid items<br>
                <div class="description incorrect" id="desc-q3-wrong">Incorrect. The correct answer is A. The 'grid-area' property specifies a grid item's position and size within the grid.</div>
                <div class="description correct" id="desc-q3-correct">Correct! The 'grid-area' property specifies a grid item's position and size within the grid.</div>
                <div class="navigation-buttons">
                    <button type="button" class="show-description" onclick="showDescription(3, false)">Show Description</button>
                    <button type="button" class="next-question" onclick="nextQuestion()">Next</button>
                </div>
            </div>
            
            <div class="quiz-question" data-question="4">
                <h3>4. How do you implement a CSS animation?</h3>
                <input type="radio" name="q4" value="A" class="correct"> A. Use @keyframes to define animation and animation property to apply it<br>
                <input type="radio" name="q4" value="B"> B. Use @animation to define animation and animation-property to apply it<br>
                <input type="radio" name="q4" value="C"> C. Use @animate to define animation and animate-property to apply it<br>
                <input type="radio" name="q4" value="D"> D. Use @transition to define animation and transition-property to apply it<br>
                <div class="description incorrect" id="desc-q4-wrong">Incorrect. The correct answer is A. Use @keyframes to define animation and the animation property to apply it.</div>
                <div class="description correct" id="desc-q4-correct">Correct! Use @keyframes to define animation and the animation property to apply it.</div>
                <div class="navigation-buttons">
                    <button type="button" class="show-description" onclick="showDescription(4, false)">Show Description</button>
                    <button type="button" class="next-question" onclick="nextQuestion()">Next</button>
                </div>
            </div>
            
            <div class="quiz-question" data-question="5">
                <h3>5. What does the 'backdrop-filter' property do in CSS?</h3>
                <input type="radio" name="q5" value="A" class="correct"> A. Applies a graphical effect to the area behind an element<br>
                <input type="radio" name="q5" value="B"> B. Applies a shadow effect to the element<br>
                <input type="radio" name="q5" value="C"> C. Sets the opacity of the element<br>
                <input type="radio" name="q5" value="D"> D. Sets the blur effect on the text<br>
                <div class="description incorrect" id="desc-q5-wrong">Incorrect. The correct answer is A. The 'backdrop-filter' property applies a graphical effect to the area behind an element.</div>
                <div class="description correct" id="desc-q5-correct">Correct! The 'backdrop-filter' property applies a graphical effect to the area behind an element.</div>
                <div class="navigation-buttons">
                    <button type="button" class="show-description" onclick="showDescription(5, false)">Show Description</button>
                    <button type="button" class="next-question" onclick="nextQuestion()">Next</button>
                </div>
            </div>
            
            <div class="quiz-question" data-question="6">
                <h3>6. What is the result of the following CSS code?</h3>
                <code>.container {<br>
                &nbsp;&nbsp;display: grid;<br>
                &nbsp;&nbsp;grid-template-columns: 1fr 2fr;<br>
                &nbsp;&nbsp;grid-template-rows: auto;<br>
                &nbsp;&nbsp;grid-gap: 10px;<br>
                }</code><br>
                <input type="radio" name="q6" value="A" class="correct"> A. Defines a grid layout with two columns and automatic rows with a 10px gap<br>
                <input type="radio" name="q6" value="B"> B. Defines a grid layout with three columns and fixed rows<br>
                <input type="radio" name="q6" value="C"> C. Defines a flexbox layout with two columns and a 10px gap<br>
                <input type="radio" name="q6" value="D"> D. Defines a block layout with a 10px gap<br>
                <div class="description incorrect" id="desc-q6-wrong">Incorrect. The correct answer is A. The code defines a grid layout with two columns and automatic rows with a 10px gap.</div>
                <div class="description correct" id="desc-q6-correct">Correct! The code defines a grid layout with two columns and automatic rows with a 10px gap.</div>
                <div class="navigation-buttons">
                    <button type="button" class="show-description" onclick="showDescription(6, false)">Show Description</button>
                    <button type="button" class="next-question" onclick="nextQuestion()">Next</button>
                </div>
            </div>
            
            <div class="quiz-question" data-question="7">
                <h3>7. What is the purpose of the 'filter' property in CSS?</h3>
                <pre><code>img {<br>
                &nbsp;&nbsp;filter: grayscale(100%);<br>
                }</code></pre>
                <input type="radio" name="q7" value="A" class="correct"> A. Applies graphical effects like blur or grayscale to an element<br>
                <input type="radio" name="q7" value="B"> B. Adjusts the text shadow effect<br>
                <input type="radio" name="q7" value="C"> C. Sets the color overlay on an image<br>
                <input type="radio" name="q7" value="D"> D. Changes the background color of an image<br>
                <div class="description incorrect" id="desc-q7-wrong">Incorrect. The correct answer is A. The 'filter' property applies graphical effects like blur or grayscale to an element.</div>
                <div class="description correct" id="desc-q7-correct">Correct! The 'filter' property applies graphical effects like blur or grayscale to an element.</div>
                <div class="navigation-buttons">
                    <button type="button" class="show-description" onclick="showDescription(7, false)">Show Description</button>
                    <button type="button" class="next-question" onclick="nextQuestion()">Next</button>
                </div>
            </div>
            
            <div class="quiz-question" data-question="8">
                <h3>8. How do you use the 'clip-path' property to create a circle mask?</h3>
                <pre><code>img {<br>
                &nbsp;&nbsp;clip-path: circle(50%);<br>
                }</code></pre>
                <input type="radio" name="q8" value="A" class="correct"> A. Creates a circular clipping region for an element<br>
                <input type="radio" name="q8" value="B"> B. Applies a border radius to create a circular mask<br>
                <input type="radio" name="q8" value="C"> C. Sets a circular background image<br>
                <input type="radio" name="q8" value="D"> D. Defines a circular shadow effect<br>
                <div class="description incorrect" id="desc-q8-wrong">Incorrect. The correct answer is A. The 'clip-path' property creates a circular clipping region for an element.</div>
                <div class="description correct" id="desc-q8-correct">Correct! The 'clip-path' property creates a circular clipping region for an element.</div>
                <div class="navigation-buttons">
                    <button type="button" class="show-description" onclick="showDescription(8, false)">Show Description</button>
                    <button type="button" class="next-question" onclick="nextQuestion()">Next</button>
                </div>
            </div>
            
            <div class="quiz-question" data-question="9">
                <h3>9. How do you create a responsive typography using viewport units?</h3>
                <input type="radio" name="q9" value="A" class="correct"> A. Use vw and vh units for font size<br>
                <input type="radio" name="q9" value="B"> B. Use px and em units for font size<br>
                <input type="radio" name="q9" value="C"> C. Use percentages for font size<br>
                <input type="radio" name="q9" value="D"> D. Use rem units for font size<br>
                <div class="description incorrect" id="desc-q9-wrong">Incorrect. The correct answer is A. Use vw and vh units for responsive typography.</div>
                <div class="description correct" id="desc-q9-correct">Correct! Use vw and vh units for responsive typography.</div>
                <div class="navigation-buttons">
                    <button type="button" class="show-description" onclick="showDescription(9, false)">Show Description</button>
                    <button type="button" class="next-question" onclick="nextQuestion()">Next</button>
                </div>
            </div>
            
            <div class="quiz-question" data-question="10">
                <h3>10. What does the 'place-items' shorthand property do in CSS Grid?</h3>
                <input type="radio" name="q10" value="A" class="correct"> A. Sets both align-items and justify-items properties in one declaration<br>
                <input type="radio" name="q10" value="B"> B. Sets grid-item spacing<br>
                <input type="radio" name="q10" value="C"> C. Defines the grid-template-areas<br>
                <input type="radio" name="q10" value="D"> D. Specifies the size of grid columns and rows<br>
                <div class="description incorrect" id="desc-q10-wrong">Incorrect. The correct answer is A. The 'place-items' shorthand property sets both align-items and justify-items properties in one declaration.</div>
                <div class="description correct" id="desc-q10-correct">Correct! The 'place-items' shorthand property sets both align-items and justify-items properties in one declaration.</div>
                <div class="navigation-buttons">
                    <button type="button" class="show-description" onclick="showDescription(10, false)">Show Description</button>
                    <button type="button" class="next-question" id="finishQuizButton" onclick="submitQuiz()">Finish Quiz</button>
                </div>
            </div>
        </form>
        <div id="result"></div>
    </div>
    <script>
        let currentQuestion = 1;
        const totalQuestions = 10;
        const correctAnswers = ['A', 'A', 'A', 'A', 'A', 'A', 'A', 'A', 'A', 'A'];
       
        function showQuestion(questionNumber) {
            document.querySelectorAll('.quiz-question').forEach((el) => {
                el.style.display = 'none';
            });
            document.querySelector(`.quiz-question[data-question="${questionNumber}"]`).style.display = 'block';
        }

        function submitQuiz() {
            let score = 0;

            // Loop through all questions and check answers
            for (let i = 1; i <= totalQuestions; i++) {
            const selectedAnswer = document.querySelector(`input[name="q${i}"]:checked`);
            if (selectedAnswer) {
                if (selectedAnswer.classList.contains('correct')) {
                    score++;
                }
            }
            // Display the result
            const resultContainer = document.getElementById('result');
            resultContainer.innerHTML = `<h2>Your Score: ${score} out of ${totalQuestions}</h2>`;

            if (score === totalQuestions) {
                quote = "🎉 Excellent work! You nailed every question! 🎉";
            } else if (score >= totalQuestions * 0.7) {
                quote = "👍 Great job! You're quite knowledgeable in CSS! 👍";
            } else {
                quote = "💪 Good effort! Keep practicing to improve your skills! 💪";
            }

            document.getElementById('result').innerHTML = `
                <h2>Your score is ${score} out of ${totalQuestions}.</h2>
                <div class="quote">${quote}</div>
                <h3>Learn More:</h3>
                <ul>
                    <li><a href="https://www.w3schools.com/css/" target="_blank">W3Schools - CSS Tutorial</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS" target="_blank">MDN Web Docs - CSS Guide</a></li>
                    <li><a href="https://css-tricks.com/" target="_blank">CSS-Tricks - Tips and Techniques</a></li>
                    <li><a href="https://www.freecodecamp.org/news/tag/css/" target="_blank">FreeCodeCamp - CSS Articles and Tutorials</a></li>
                </ul>
            `;

            // Optionally, you can store the score in sessionStorage or send it to the server
            const username = sessionStorage.getItem('username'); // Assuming you store the username in sessionStorage
            if (username) {
                // Send score to server or store it
                console.log(`User: ${username}, Score: ${score}`);
            }
          }
        }

        function showDescription(questionNumber) {
            const selectedValue = document.querySelector(`.quiz-question[data-question="${questionNumber}"] input[type="radio"]:checked`);
            const descriptionCorrect = document.getElementById(`desc-q${questionNumber}-correct`);
            const descriptionWrong = document.getElementById(`desc-q${questionNumber}-wrong`);

            if (selectedValue) {
                if (selectedValue.value === correctAnswers[questionNumber - 1]) {
                    descriptionCorrect.style.display = 'block';
                    descriptionWrong.style.display = 'none';
                } else {
                    descriptionCorrect.style.display = 'none';
                    descriptionWrong.style.display = 'block';
                }
                // Disable radio buttons after showing description
                document.querySelectorAll(`.quiz-question[data-question="${questionNumber}"] input[type="radio"]`).forEach((el) => {
                    el.classList.add('disabled');
                    el.disabled = true;
                });
            } else {
                descriptionCorrect.style.display = 'none';
                descriptionWrong.style.display = 'none';
            }
        }

        function calculateScore() {
            let score = 0;

            // Get all the questions
            const questions = document.querySelectorAll('.quiz-question');

            questions.forEach((question) => {
                const selectedAnswer = question.querySelector('input[type="radio"]:checked');
                if (selectedAnswer && selectedAnswer.classList.contains('correct')) {
                    score += 1;
                }
            });

            return score;
        }

        function nextQuestion() {
            const selectedValue = document.querySelector(`.quiz-question[data-question="${currentQuestion}"] input[type="radio"]:checked`);
            if (selectedValue) {
                currentQuestion++;
                if (currentQuestion > totalQuestions) {
                    showScore();
                } else {
                    showQuestion(currentQuestion);
                }
            } else {
                alert('Please select an answer before proceeding.');
            }
        }

        async function submitQuizResults(score) {

            const submitButton = document.getElementById('finishQuizButton'); // Make sure to give your button an ID
            submitButton.disabled = true; // Disable the button to prevent multiple clicks
            const username = sessionStorage.getItem('username');
            const email = sessionStorage.getItem('email');
            const language = 'CSS'; // adjust based on your quiz logic
            const difficulty_level = 'Advanced'; // adjust based on your quiz logic

            console.log('Submitting score for:', { username, email, language: 'CSS', difficulty_level: 'Advanced', score });

            const scoreData = {
        username,
        email,
        language,
        difficulty_level,
        score,
    };

    try {
        const response = await fetch('http://localhost:3000/submit-score', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(scoreData),
        });

        if (!response.ok) {
            const error = response.text();
            console.error('Error submitting score:', error);
            //alert('Error submitting score. Please try again.');
        } else {
            const result = response.json();
            console.log('Score submitted successfully:', result);
            //alert('Score submitted successfully!');
            showScore();
        }
    } catch (error) {
        console.error('Error submitting score:', error);
       // alert('Error submitting score. Please try again.');
    } finally {
        submitButton.disabled = false; // Re-enable the button if needed
    }
}
        // Event listener for the finish quiz button
        document.getElementById('finishQuizButton').addEventListener('click', () => {
            const score = calculateScore();
            submitQuizResults(score);
        });

        // Show the first question on load
        showQuestion(currentQuestion);
    </script>
</body>
</html>